<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="Visittkort.css">
    <title>Visittkort vol.2</title>
</head>

<body>


    <div class="topp">
        <h1>Lag ditt eget visittkort</h1>
        <p style="display:none; color: white;" id="faktaboks">Etter du har laget kortet kan du endre p친 informasjonen hvis den er feil ved 친 skrive rett inn p친 kortet</p>
    </div>
    <div id="head">
        <form id="lagingAvKort">
                <label>
                    <h3>Fult navn:</h3>
                    <input type="text" id="inpNavn" required placeholder="Kathrine 칒yno">
                </label>
                <label>
                    <h3>E-post:</h3>
                    <input type="text" id="inpEpost" required placeholder="johan.andresen@gmail.com">
                </label>
                <label>
                    <h3>Kjonn:</h3>
                    <select id="inpKjonn" required>
                        <option value="annet">Annet</option>
                        <option value="kvinne">Kvinne</option>
                        <option value="mann">Mann</option>
                    </select>
                </label>
                <label>
                    <h3>Telefon nummer:</h3>
                    <input type="text" id="inpTelefon" required placeholder="21436587" min="1" maxlength="8">
                    <!--Bestemmer lengden p친 nummeret-->
                </label>
                <label>
                    <h3>Firma:</h3>
                    <input type="text" id="inpJobb" required placeholder="Protan">
                </label>
                <label>
                    <h3>F칮dselsdagen din:</h3>
                    <input type="date" id="inpBursdag" required>
                </label>
                <div id="foorekort">
                    <h3>Har du f칮rekort?</h3>
                    <label for="ja">
                        <input type="checkbox" value="Ja" id="inpJaF" name="ja"> Ja
                    </label>
                    <label for="nei">
                        <input type="checkbox" value="Nei" id="inpNeiF" name="nei"> Nei
                    </label>
                </div>

                <label>
                    <h3>Bilde(obligatorisk 游땑)</h3>
                    <input type="file" id="inpBilde">
                </label>

                <label>
                    <h3>Velg bakgrunnsfarge </h3>
                    <input type="color" id="bakfarge">
                </label>
                <br>
                <button type="submit" id="visKort"> Vis kort </button>
        </form>

        <div id="visittkort" style="display: none;" id="visittkort-farge">
            <div>
                <img src="" alt="Bilde av " + visittkort-navn id="visittkort-bilde">
            </div>
            <!--contenteditable="true" gj칮r at man kan skrive rett inn i kortet hvis man vil endre p친 noe uten 친 m친tte "generere" ett helt nytt kort-->
            <h2 id="visittkort-jobb" contenteditable="true"></h2>
            <h3 id="visittkort-navn" contenteditable="true"></h3>
            <p id="visittkort-epost" contenteditable="true"></p>
            <p id="visittkort-telefon" contenteditable="true"></p>
            <p id="visittkort-kjonn" contenteditable="true"></p>
            <p id="visittkort-bursdag" contenteditable="true"></p>
            <p id="visittkort-foorekort" contenteditable="true"></p>

        </div>
    </div>

    <script>
        //Henter vareablene fra HTML
        var lagingAvKort = document.getElementById("lagingAvKort");
        var inpNavn = document.getElementById("inpNavn");
        var inpJobb = document.getElementById("inpJobb");
        var inpEpost = document.getElementById("inpEpost");
        var inpKjonn = document.getElementById("inpKjonn");
        var inpTelefon = document.getElementById("inpTelefon");
        var inpBilde = document.getElementById("inpBilde");
        var inpBursdag = document.getElementById("inpBursdag");
        var inpNeiF = document.getElementById("inpNeiF");
        var inpJaF = document.getElementById("inpJaF");
        var bakfarge = document.getElementById("bakfarge");
        var visKort = document.getElementById("visKort")
        bakfarge.value = "#ffffff";

        //Skjekker om bursdagen som er valgt er over 18 친r siden eller ikke
        inpBursdag.onchange = function () {
            let dateToday = new Date()
            let str18Ago = (dateToday.getFullYear() - 18) + "-" + (dateToday.getMonth() + 1) + "-" + dateToday.getDate()
            let date18Ago = new Date(str18Ago)
            let bursdag = new Date(inpBursdag.value)
            //gj칮r at hvis brusdagen din var 18 친r siden eller mer kommer alternativet om f칮rekort opp
            if (bursdag < date18Ago) {
                var foorekort = document.getElementById("foorekort")
                foorekort.style.display = "block"
            }
        }
        //ved bruken av form trenger det ikke 친 aktivere kanppen 
        lagingAvKort.onsubmit = function(event) {
            event.preventDefault()
            //legger inn bilder
            let bilde = document.getElementById('visittkort-bilde');
            bilde.src = URL.createObjectURL(inpBilde.files[0]);

            //skjekker om kanpene til f칮rekort er checked eller ikke og hvis ja eller nel kj칮res funksjonene under
            if (inpNeiF.checked) {
                document.getElementById("visittkort-foorekort").innerHTML = ""
            }
            if (inpJaF.checked) {
                document.getElementById("visittkort-foorekort").innerHTML = "F칮rekort: Ja"
            }
            // Sett verdier i visittkortet
            console.log(inpNavn)
            document.getElementById("visittkort-navn").innerText = inpNavn.value;
            document.getElementById("visittkort-jobb").innerText = inpJobb.value;
            document.getElementById("visittkort-epost").innerText = "Epost: " + inpEpost.value;
            document.getElementById("visittkort-kjonn").innerText = inpKjonn.value;
            document.getElementById("visittkort-bursdag").innerHTML = inpBursdag.value;
            document.getElementById("visittkort-telefon").innerHTML = "Telefon: " + inpTelefon.value;


            // Viser visittkortet
            visittkort.style.backgroundColor = bakfarge.value;
            document.getElementById("visittkort").style.display = "block";
            //gj칮r den lille teksten under tittelen synelig 
            document.getElementById("faktaboks").style.display = "block";
        }
    </script>
</body>

</html>